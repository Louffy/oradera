<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <script type="text/javascript" th:src="@{/scripts/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/scripts/plotly-latest.min.js}"></script>

</head>
<body>

<script>
    function linedata(ndata){
        var x=new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23);
        var data = [];
        console.log(ndata);
        for(item in ndata){
            console.log(item);
            var key = item;
            var d = ndata[key];
            console.log(d);
            console.log(key);
            var name = {
                x:x,
                y:d,
                mode: 'lines+markers',
                name:key
            }
            data.push(name)
        }
        return data;
    }
    function showP(namelist,index,data){
        var iDiv = document.createElement('div');
        iDiv.id = namelist[0]+index;
        iDiv.className = 'block';
        document.getElementsByTagName('body')[0].appendChild(iDiv);
        var show = {}
        for(i in namelist){
            console.log(i);
            show[namelist[i]] = data[namelist[i]][index];
        }
        Plotly.newPlot(iDiv.id,linedata(show));
    }

    $.ajax({
        url: "/advance"
    }).then(function(data) {
        console.log(data);
        var name1 = "advanceDisAvg",name2 = "historyDisAvg",name3 = "advanceCompletePeriodAvg",
                name4="advanceBoardPeriodAvg",name5 = "historyWaitOrder",name6="historyBoardPeriodAvg",
                name7="orderSum1",name8="orderSum2",name9="advanceOrder",name10="shortAdvanceOrder",
                name11="advanceOrderDriver",
                name12="CanAdvance",name13="ShortAdvance",name14="speed",name15="shortDriver",
                name16="historyOrderDistance",name17="historyAllPeriodAvg",name18="advanceWaitPeriodAvg";

        showP([name1,name16],1,data);


        showP([name17,name5,name6],1,data);



        showP([name4,name17,name6],1,data);

        showP([name3,name18,name6],1,data);







        showP([name12,name13],1,data);


        showP([name11,name15],1,data);


        showP([name14],2,data);


        showP([name7,name9],1,data);


    });

</script>

</body>
</html>